      console.log('[Verification] Verification completed:', result);

      // CRITICAL FIX: Check if backend returned an error before processing
      if (result.error || result.success === false) {
        console.error('[Verification] Backend returned error:', {
          error: result.error,
          success: result.success,
          fullResult: result
        });
        setVerificationError(result.error || 'Verification failed - please try again');
        return; // Exit early - finally block will reset isVerifying
      }

      setProgressPercent(75);
